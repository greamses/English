<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">  
    <title>Memory Card Game</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <style>
    /* Import Google Font - Poppins */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: #f5f7fa; /* Soft Gray for a neutral and calm background */
  padding: 10px;
}

button {
  font-size: 1em;
  padding: 0.5em 2em;
  border: none;
  min-width: fit-content;
  border-radius: 3em;
  cursor: pointer;
  margin: 10px;
  background: #FF6B6B; 
  color: #FFF;
}

.wrapper {
  padding: 15px;
  border-radius: 10px;
  background: #FFF; /* White for a clean and fresh look */
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  border: 2px solid #FF6B6B;
}

#category-name{
  position: relative;
  text-align: center;
  background: #FF6B6B;
  width: 200px;
  padding: 8px;
  border-radius: 3em;
  border: 1px solid #FF6B6B;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  color: #FFF;
}

#category-name:after{
  content: '';
  position: absolute;
  /* background: transparent; */
  width: calc(100% + 8px);
  height: calc(100% + 8px);
  border: 1px solid #FF6B6B;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border-radius: 3em;
}

.cards,
.card,
.view {
  display: flex;
  align-items: center;
  justify-content: center;
}

.cards {
  width: 95%;
  height: 400px;
  max-width: 400px;
  flex-wrap: wrap;
  justify-content: space-between;
}

.cards .card {
  cursor: pointer;
  list-style: none;
  user-select: none;
  position: relative;
  perspective: 1000px;
  transform-style: preserve-3d;
  height: calc(100% / 4 - 10px);
  width: calc(100% / 4 - 10px);
}

.disabled {
  pointer-events: none;
}

.card.shake {
  animation: shake 0.35s ease-in-out;
}

@keyframes shake {
  0%,
  100% {
    transform: translateX(0);
  }

  20% {
    transform: translateX(-13px);
  }

  40% {
    transform: translateX(13px);
  }

  60% {
    transform: translateX(-8px);
  }

  80% {
    transform: translateX(8px);
  }
}

.card .view {
  width: 100%;
  height: 100%;
  position: absolute;
  border-radius: 7px;
  background: #FFFFFF; /* White background for cards */
  font-size: 2.2rem;
  pointer-events: none;
  backface-visibility: hidden;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.25s linear;
}

.card .front-view img {
  width: 19px;
}

.card .back-view img {
  max-width: 45px;
}

.card .back-view {
  transform: rotateY(-180deg);
}

.card.flip .back-view {
  transform: rotateY(0);
}

.card.flip .front-view {
  transform: rotateY(180deg);
}

h4,
.turns {
  color: #333; /* Dark Gray for text to ensure readability */
}

h4 {
  font-weight: 500;
}

.flex {
  display: flex;
  justify-content: center;
  align-items: center;
}

.labels {
  position: relative;
  margin-bottom: 10px;
  padding-inline: 10px;
  width: 400px;
  justify-content: space-between;
}

.timer {
  position: relative;
  height: 40px;
  width: 40px;
  background: #FF6B6B; /* Vibrant Blue for a lively effect */
  border-radius: 50%;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  color: #FFF; /* White text for contrast */
}

.timer:before {
  content: '';
  position: absolute;
  width: 85%;
  height: 85%;
  border: 2px solid #FFF;
  border-radius: 50%;
  z-index: 10;
}

@media screen and (max-width: 700px) {
  .cards {
    height: 350px;
    width: 350px;
  }

  .card .front-view img {
    width: 17px;
  }

  .card .back-view img {
    max-width: 40px;
  }

  .labels {
    width: 350px;
  }
}

@media screen and (max-width: 530px) {
  .cards {
    height: 300px;
    width: 300px;
  }

  .card .front-view img {
    width: 15px;
  }

  .card .back-view img {
    max-width: 35px;
  }
}

.feedback {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 90%;
  max-width: 300px;
  height: 150px;
  border: 2px solid #FF6B6B;
  transform: translate(-50%, -50%);
  padding: 20px;
  background: #FFF; 
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  color: #FF6B6B;
  border-radius: 8px;
  font-size: 18px;
  text-align: center;
  z-index: 1000; 
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 10px;
}

.close-btn {
  background: #FF6B6B;
  border: none;
  color: #FFFFFF; 
  font-size: 0.95em;
  cursor: pointer;
  width: fit-content;
  font-weight: 300;
}

.close-btn:hover {
  color: #f00; /* Change color on hover for better visibility */
}

.emoji-name {
  font-size: 14px;
  
}

.emoji-name.correct {
  color: green;
}

.emoji-name.incorrect {
  color: red;
}
  </style>
    <div class="labels flex">
        <div class="turns">Turns: 0</div> 
        <h4 id="category-name"></h4>
        <div class="timer flex">60</div>
    </div>
    <div class="wrapper">
        <div class="emoji-name"></div> <!-- Emoji name display -->
        <ul class="cards"></ul> <!-- Cards will be generated here -->
    </div>
    <button class="reshuffle">Reshuffle</button>
    
    <div class="feedback" style="display: none;">
        <p id="feedback-message">Time is up! You didn't finish the game.</p>
        <button class="close-btn">Close</button>
    </div>

    <script>
      


const cardsContainer = document.querySelector(".cards");
const turnsDiv = document.querySelector(".turns");
const timerDiv = document.querySelector(".timer");
const emojiNameDiv = document.querySelector(".emoji-name");

let currentCategoryIndex = 0;
let flips = 0;
let totalTurns = 0;
let matched = 0;
let initTimer = 60;
let timer = initTimer;
let timing;
let cardOne, cardTwo;
let disableDeck = false;
let emojisList = []; // Global variable for emojis list

const emojiCategories = [
  {
    categoryName: "Science",
    emojis: [
      { name: "Microscope", emoji: "ğŸ”¬" },
      { name: "Telescope", emoji: "ğŸ”­" },
      { name: "Test Tube", emoji: "ğŸ§ª" },
      { name: "Petri Dish", emoji: "ğŸ§«" },
      { name: "DNA", emoji: "ğŸ§¬" },
      { name: "Syringe", emoji: "ğŸ’‰" },
      { name: "Stethoscope", emoji: "ğŸ©º" },
      { name: "Brain", emoji: "ğŸ§ " },
      { name: "Magnet", emoji: "ğŸ§²" },
      { name: "Atom Symbol", emoji: "âš›ï¸" },
      { name: "Gear", emoji: "âš™ï¸" },
      { name: "Thermometer", emoji: "ğŸŒ¡ï¸" },
      { name: "Microscope Slide", emoji: "ğŸ”¬" },
      { name: "Safety Jackets", emoji: "ğŸ¦º" },
      { name: "Meridians", emoji: "ğŸŒ" },
      { name: "Sun", emoji: "â˜€ï¸" },
      { name: "Cloud", emoji: "â˜ï¸" },
      { name: "Moon", emoji: "ğŸŒ™" },
      { name: "Star", emoji: "â­" },
      { name: "Rocket", emoji: "ğŸš€" },
      { name: "Satellite", emoji: "ğŸ›°ï¸" }
    ]
  },
  {
    categoryName: "Tech",
    emojis: [
      { name: "Laptop", emoji: "ğŸ’»" },
      { name: "Desktop Computer", emoji: "ğŸ–¥ï¸" },
      { name: "Printer", emoji: "ğŸ–¨ï¸" },
      { name: "Mobile Phone", emoji: "ğŸ“±" },
      { name: "Pager", emoji: "ğŸ“Ÿ" },
      { name: "Fax Machine", emoji: "ğŸ“ " },
      { name: "Electric Plug", emoji: "ğŸ”Œ" },
      { name: "Battery", emoji: "ğŸ”‹" },
      { name: "Joystick", emoji: "ğŸ•¹ï¸" },
      { name: "Mouse", emoji: "ğŸ–±ï¸" },
      { name: "Trackball", emoji: "ğŸ–²ï¸" },
      { name: "Floppy Disk", emoji: "ğŸ’¾" },
      { name: "Optical Disk", emoji: "ğŸ’¿" },
      { name: "DVD", emoji: "ğŸ“€" },
      { name: "Video Cassette", emoji: "ğŸ“¼" },
      { name: "Microchip", emoji: "ğŸ’½" },
      { name: "Cable", emoji: "ğŸ”Œ" },
      { name: "Smartwatch", emoji: "âŒš" },
      { name: "Game Controller", emoji: "ğŸ®" },
      { name: "Robot", emoji: "ğŸ¤–" }
    ]
  },
  {
    categoryName: "Math",
    emojis: [
      { name: "Abacus", emoji: "ğŸ§®" },
      { name: "Numbers", emoji: "ğŸ”¢" },
      { name: "Symbols", emoji: "ğŸ”£" },
      { name: "Division Sign", emoji: "â—" },
      { name: "Addition Sign", emoji: "â•" },
      { name: "Minus Sign", emoji: "â–" },
      { name: "Multiplication Sign", emoji: "âœ–ï¸" },
      { name: "Latin Letters", emoji: "ğŸ” " },
      { name: "Currencies", emoji: "ğŸ’±" },
      { name: "Chart Increasing", emoji: "ğŸ“ˆ" },
      { name: "Chart Decreasing", emoji: "ğŸ“‰" },
      { name: "Symbols", emoji: "ğŸ”£" },
      { name: "Books", emoji: "ğŸ“š" },
      { name: "Pencil", emoji: "âœï¸" },
      { name: "Ruler", emoji: "ğŸ“" },
      { name: "Triangular Ruler", emoji: "ğŸ“" },
      { name: "Notepad", emoji: "ğŸ—’ï¸" },
      { name: "Calendar", emoji: "ğŸ“…" },
      { name: "Stopwatch", emoji: "â±ï¸" },
      { name: "Barchart", emoji: "ğŸ“Š" }
    ]
  },
  {
    categoryName: "Occupations",
    emojis: [
      { name: "Scientist", emoji: "ğŸ§‘â€ğŸ”¬" },
      { name: "Technologist", emoji: "ğŸ§‘â€ğŸ’»" },
      { name: "Mechanic", emoji: "ğŸ§‘â€ğŸ”§" },
      { name: "Doctor", emoji: "ğŸ‘¨â€âš•ï¸" },
      { name: "Nurse", emoji: "ğŸ‘©â€âš•ï¸" },
      { name: "Engineer", emoji: "ğŸ‘·â€â™‚ï¸" },
      { name: "Artist", emoji: "ğŸ‘©â€ğŸ¨" },
      { name: "Chef", emoji: "ğŸ‘¨â€ğŸ³" },
      { name: "Teacher", emoji: "ğŸ‘©â€ğŸ«" },
      { name: "Firefighter", emoji: "ğŸ‘¨â€ğŸš’" },
      { name: "Police Officer", emoji: "ğŸ‘®â€â™‚ï¸" },
      { name: "Pilot", emoji: "ğŸ‘¨â€âœˆï¸" },
      { name: "Farmer", emoji: "ğŸ‘©â€ğŸŒ¾" },
      { name: "Photographer", emoji: "ğŸ“¸" },
      { name: "Librarian", emoji: "ğŸ“š" },
      { name: "Dentist", emoji: "ğŸ¦·" },
      { name: "Musician", emoji: "ğŸ¼" },
      { name: "Actor", emoji: "ğŸ­" },
      { name: "Construction Worker", emoji: "ğŸ‘·â€â™€ï¸" },
      { name: "Social Worker", emoji: "ğŸ§‘â€ğŸ’¼" }
    ]
  },
  {
    categoryName: "Fruits",
    emojis: [
      { name: "Apple", emoji: "ğŸ" },
      { name: "Banana", emoji: "ğŸŒ" },
      { name: "Grapes", emoji: "ğŸ‡" },
      { name: "Orange", emoji: "ğŸŠ" },
      { name: "Watermelon", emoji: "ğŸ‰" },
      { name: "Pineapple", emoji: "ğŸ" },
      { name: "Strawberry", emoji: "ğŸ“" },
      { name: "Mango", emoji: "ğŸ¥­" },
      { name: "Peach", emoji: "ğŸ‘" },
      { name: "Cherry", emoji: "ğŸ’" },
      { name: "Kiwi", emoji: "ğŸ¥" },
      { name: "Avocado", emoji: "ğŸ¥‘" },
      { name: "Tomato", emoji: "ğŸ…" }
    ]
  },
  {
    categoryName: "Animals",
    emojis: [
      { name: "Dog", emoji: "ğŸ¶" },
      { name: "Cat", emoji: "ğŸ±" },
      { name: "Lion", emoji: "ğŸ¦" },
      { name: "Tiger", emoji: "ğŸ¯" },
      { name: "Bear", emoji: "ğŸ»" },
      { name: "Elephant", emoji: "ğŸ˜" },
      { name: "Monkey", emoji: "ğŸµ" },
      { name: "Panda", emoji: "ğŸ¼" },
      { name: "Giraffe", emoji: "ğŸ¦’" },
      { name: "Zebra", emoji: "ğŸ¦“" },
      { name: "Horse", emoji: "ğŸ´" },
      { name: "Koala", emoji: "ğŸ¨" },
      { name: "Penguin", emoji: "ğŸ§" }
    ]
  },
  {
    categoryName: "Flags",
    emojis: [
      { name: "United States", emoji: "ğŸ‡ºğŸ‡¸" },
      { name: "Canada", emoji: "ğŸ‡¨ğŸ‡¦" },
      { name: "United Kingdom", emoji: "ğŸ‡¬ğŸ‡§" },
      { name: "Germany", emoji: "ğŸ‡©ğŸ‡ª" },
      { name: "France", emoji: "ğŸ‡«ğŸ‡·" },
      { name: "Japan", emoji: "ğŸ‡¯ğŸ‡µ" },
      { name: "China", emoji: "ğŸ‡¨ğŸ‡³" },
      { name: "Brazil", emoji: "ğŸ‡§ğŸ‡·" },
      { name: "India", emoji: "ğŸ‡®ğŸ‡³" },
      { name: "Australia", emoji: "ğŸ‡¦ğŸ‡º" },
      { name: "South Korea", emoji: "ğŸ‡°ğŸ‡·" },
      { name: "Mexico", emoji: "ğŸ‡²ğŸ‡½" },
      { name: "South Africa", emoji: "ğŸ‡¿ğŸ‡¦" }
    ]
  }
];

function generateCards() {
  const currentCategory = emojiCategories[currentCategoryIndex];
  emojisList = currentCategory.emojis; // Update global emojisList

  let selectedEmojis = [];
  let emojisToPick = [...emojisList];

  while (selectedEmojis.length < 8) {
    const randomIndex = Math.floor(Math.random() * emojisToPick.length);
    selectedEmojis.push(emojisToPick[randomIndex]);
    emojisToPick.splice(randomIndex, 1);
  }

  let emojisArray = [...selectedEmojis, ...selectedEmojis];
  emojisArray.sort(() => Math.random() - 0.5);

  emojisArray.forEach(({ name, emoji }) => {
    const card = document.createElement('li');
    card.classList.add('card');

    const frontView = document.createElement('div');
    frontView.classList.add('view', 'front-view');
    frontView.textContent = 'ğŸ‘†ğŸ¼';

    const backView = document.createElement('div');
    backView.classList.add('view', 'back-view');
    backView.textContent = emoji;

    card.appendChild(frontView);
    card.appendChild(backView);

    card.addEventListener("click", flipCard);
    cardsContainer.appendChild(card);
  });

  updateCategoryName(); // Update the category name whenever cards are generated
}

// Define the category name display
const categoryNameElement = document.getElementById("category-name");

function updateCategoryName() {
  const currentCategory = emojiCategories[currentCategoryIndex];
  categoryNameElement.innerText = currentCategory.categoryName;
}

function flipCard({ target: clickedCard }) {
  if (flips < 1) {
    countDown();
  }
  flips++;
  totalTurns++;
  turnsDiv.innerText = `Turns: ${totalTurns}`;

  if (cardOne !== clickedCard && !disableDeck) {
    clickedCard.classList.add("flip");
    if (!cardOne) {
      return cardOne = clickedCard;
    }
    cardTwo = clickedCard;
    disableDeck = true;
    let cardOneEmoji = cardOne.querySelector(".back-view").textContent;
    let cardTwoEmoji = cardTwo.querySelector(".back-view").textContent;
    let cardOneName = emojisList.find(item => item.emoji === cardOneEmoji).name;
    let cardTwoName = emojisList.find(item => item.emoji === cardTwoEmoji).name;
    emojiNameDiv.innerHTML = ` <span class="emoji-name">${cardOneName}</span> / <span class="emoji-name">${cardTwoName}</span>`;
    matchCards(cardOneEmoji, cardTwoEmoji);
  }
}

function matchCards(emoji1, emoji2) {
  if (emoji1 === emoji2) {
    matched++;
    emojiNameDiv.querySelectorAll('.emoji-name').forEach(span => {
      span.style.color = 'green';
    });
    if (matched === 8) {
      setTimeout(() => {
        clearTime();
        takeScreenshot(); // Take screenshot when puzzle is completed
        reshuffle();
      }, 1000);
    }
    cardOne.removeEventListener("click", flipCard);
    cardTwo.removeEventListener("click", flipCard);
    cardOne = cardTwo = "";
    disableDeck = false;
    return;
  }

  emojiNameDiv.querySelectorAll('.emoji-name').forEach(span => {
    span.style.color = 'red';
  });

  setTimeout(() => {
    cardOne.classList.add("shake");
    cardTwo.classList.add("shake");
  }, 400);

  setTimeout(() => {
    cardOne.classList.remove("shake", "flip");
    cardTwo.classList.remove("shake", "flip");
    cardOne = cardTwo = "";
    disableDeck = false;
  }, 1200);
}

function reshuffle() {
  matched = 0;
  disableDeck = false;
  cardOne = cardTwo = "";
  cardsContainer.innerHTML = '';
  emojiNameDiv.innerText = ''; // Clear the name display
  currentCategoryIndex = (currentCategoryIndex + 1) % emojiCategories.length; // Move to the next category
  generateCards();
}

function updateTimerDisplay() {
  timerDiv.innerText = timer;
}

function countDown() {
  timing = setInterval(() => {
    timer--;
    updateTimerDisplay();
    if (timer === 0) {
      clearInterval(timing);
      cardsContainer.querySelectorAll('.card').forEach(card => {
        card.classList.add('flip', 'disabled');
      });
      document.querySelector('.feedback').style.display = 'block';
    }
  }, 1000);
}

document.querySelector('.feedback .close-btn').addEventListener('click', () => {
  document.querySelector('.feedback').style.display = 'none';
});

function clearTime() {
  totalTurns = 0;
  turnsDiv.innerText = `Turns: ${totalTurns}`;
  timer = initTimer;
  flips = 0;
  updateTimerDisplay();
  clearInterval(timing);
  document.querySelector('.feedback').style.display = 'none';
}

function takeScreenshot() {
  html2canvas(cardsContainer).then(canvas => {
    const link = document.createElement('a');
    link.href = canvas.toDataURL('image/png');
    link.download = 'memory-game-screenshot.png';
    link.click();
  });
}

generateCards();

document.querySelector(".reshuffle").addEventListener("click", () => {
  clearTime();
  reshuffle();
});
    </script>
</body>
</html>